---
title: Alert Your Loves One With A Single Button
slug: alert-your-loves-one-with-a-single-button
cover: "/static/images/blogs/9.jpg"
blurUrl: "
data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAADZKADAAQAAAABAAABaQAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgBaQNkAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMACQkJCQkJEAkJEBYQEBAWHhYWFhYeJh4eHh4eJi4mJiYmJiYuLi4uLi4uLjc3Nzc3N0BAQEBASEhISEhISEhISP/bAEMBCwwMEhESHxERH0szKjNLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS//dAAQAN//aAAwDAQACEQMRAD8A5WikoqD0wooooEFFFFABSUUUwEooooEJRRRQAlJS0lAhKSlpKAEpKWkpiEpKWkNAhKSlpDQIbSUtJTASm0tJQSIaSlNJQIaaSlNNpiEpKWkoENNJSmkpiGmkpTTaBCUlLSUyRppKU0lAhppKWkoEJTadTaYhKSlpKBCUlLSUAFJS0lIAooooAKKKKQwooopDClpKWgYUUUUhi0tJRSGLRRRQMKWkpaQwooooAWiiikMKKKKAFooooAKKKKQBRRRQAUUUUwCiiigQUUUlABRRRTEJRRRQISiiigQUlLSUxBSUUUxCUlLSUEhSUtNpksSiiimSxKSlpKZDCiikoEFFFFAwooooAKKKKAP/0OUoooqD0goopKAFpKKKACkoopgFFFJQIKSlpKAEpKWkoEFJRSUAFJRSUxBSUtNoEFNNLSGgQlIaWm0xCUlLSUCENNpTSUCENNpxptMQhptONNoEJTadTaYhDTacabQIQ02nU2gkSm06m0xCGkpabQIKbS0lAhKSlpKYhKSlpKACkoopAFFFFABSUUUhi0UlFAxaKSlpDFopKKQxaWkpaQwooooGLRRRSGLRSUUALS0lFIYtFFFABS0lFAC0UlFAC0UlFAC0UlLQAUUUlAhaSiigAoopKYgoopKBBRRRQISiiimISiikpiCkoooJEpKWkpksSiikpksSiikpkBRRRQAUUUUAFFFFABRRRQB//9Hk6KSioPSFopKKACiikpgLSUUUCCikzSUALSUUlABRRSUCCkopKBBSUUlMApKKSgQU00tJQISkNLTTTEJSUtJQIQ0lBpKBCGkpTTaYhDSUpptAgptLTTQISkpabTEIaSlptAgptLSGmSJTaWkNAhKSlpKAEpKKSgQUlLSUCEooooAKSiigYUUlFIBaKSigYtLTaWkMWikopDFpaSigYtFJS0hi0UlLSAWikooGLS02loGLRSUUgFooooAKWkooAWikooAWikooAWikooEFFFJQAtFJRTEFFFJQIKKKSmIKKKSgQUUlFMQUlFFBIUlFJTJYUlFJTJYUlFFMkKKSigQtFJRQAtFJRQAtFJRQB//S5GikoqT0haKSigQtJRSUALSUUlAC0lFJQAtJRSUCFpKKSgApKKSmIKSikoEFJRRQAlJRSUCCkNFJTEJSUtNoEBptLSUCENJQaSmIQ0lKabQIKbS000CCmmlpDTEJTTS0hoEJTaWkoEJSUtNpiEpKWkoEJSUtJQISkpaSgApKKSgBaSikoAWikopALRSUUDFopKKQxaKSikMdRSUUDHUU2lpDFpabS0ALRSUUhjqKbS0ALRSUUDHUU2ikA6ikooAWikooAWikopiFopKKAFopKKBBRSUUALSUUUCCikopiCik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ikooAWikooGLRSUUALRSUUAf/9HzejNNzRmkdY7NFNzRmgB2aM03NJmgB+aTNNzRQA7NGabRQAuaM02igBc0ZpKSgB1JSUlADqSkzSZoAdSZpM0maBC5ozTc0UALSUlFABRSUlAC0lJRQIKSikoAM0lFJQAUlFJQAUlFJQAUlFJQIKSkpKYBSUUlACUlFJQIKSikoAKbRRQIKSikoEFJRSUEi0lFJQSFFJRQIKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//S8zopuaM0jrHUU3NGaAHUUzNGaBDqM03NGaAHZozTc0lADs0ZptFADs0maSkoAdmkzSUlADs0maSigBaSkooAWkpKKAFpKSkzQAtFJmkzQAuaSkzSUCFpKSkoAWkpKKACkopKACkopKACkpKSgBaSkpKBBSUUlMAptFJQAUlFFAgpKKSkIKSiigkKSikpksKSiigkKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/T8voptFI6h1FNzRQA6im0ZoAWikzRmgBaKbmjNADqSkzRmgBaKbmjNAC0U3NGaAHUmaTNJmgB1JmkpKBC5ozTaKAFzSZpKKAFpKSkoAWkopKAFpKSkoAWkpKSgBaSkpKAFpKSkoAWkpKSgApKKSgApM0lFAgpKKSgQtJRSUCCkoooJCkopKCWFJRRTJCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//U8ropKKR0i0UlFAC0UlFAC0UlFAC0lJRQAtFJRQAUUlFIBaSikoAWikpKAFopKSgBaKSkoAWkopKAFpKSigApKKSmAtJSZpKAFpKTNJmgBaSkzSZoAWkpM0maAFzTc0U2gQuaSikoAKKKSgQUUlFBIUlFJQK4UUUlBLYUlFFMkKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//V8popKKk6RaKSigBaKSigBaKSigBaSkooAWikpKBC0UlFAC0lJRQAtJSUUALSUlFABRSUlAC0lFJQAtJSUUAFJRSUwCkzRSUAGaTNFJQAUlFJQAUlGaTNABSUUlAhaSikoFcWkpKKBXCikooJuFJRSUybi0lFFAgooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9byeiiipOgKKKKACiiigAopKKACiiigApKKKACiikoAWkopKAFpKKSgAopKKACikooAKSikoEFFJSUALSUlJTAWkzSUlABmkzRSUAFJRmkoAKSikoFcWkopKBXFpKSigm4UUlFMm4UlFFAgooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9fyeiiioOkKKKKBCUUUUDCiikoELSUUUAFFFFACUUUUAJRRSUAFJS0lMQUlFFACUUUlABSUUUAJSUtNoAKSikpiCkzRSUAFJRTc0CFpKSkphcWkpKKCbhRSUlBNxaSiigQUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH//0PJ6KKKzOkKKKKACkpaKAEooopiEopaSgApKWkoAKSlooASkpaSgApKWkoEJRRSUwCkopKACkopKBCUlLSUwEpKKSgQUlFJQISkoNJTFcKSikoE2FFJRQSFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH/9HyiiiiszpCkpaKAEooooAKSlooASkpaKBCUUUUAJRRRQAlJS0lMQUlFFACUlLSUAJSUtJTEJSUtNoAKbS0lMQlIaU02gQlJRSUyRKSikpiuFJRRQIKKKKQBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//0vKaKKKyOkKSlooASilpKYCUUtJQAUlLSUCCkpaSgApKWigBKSlpKYhtFLSUAJSUtJQISkNLSUwG0lLSUxCUlKaaaBCU00402mISm0tNNMliGkpaSgQUUUUAFFFFIAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9PymilorI6RKKWkoAKKKKAEopaSgBKSnUlMBKKKKBCUUUUAJSUtJQISkpaSmAlJTqSgQ2kpaSmAlNNOpppiEptOppoJGmmmnU2mSxppKWkpiEpKWkoAKKKKACiiikAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf//U8qooorI6QooooAKSlpKACiiigBKSlpKYBSUtJQIKSlpKAEpKdTaBCUUUUwEpKWkoENpKWkpiEppp1NpiEppp1NpiGmmmnGmmmSxppKU0lBIlJS0lMYUUUUgCiiikAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/1fKqKKKyOkKKKKACiiigBKKKKAEpKWimAlJS0lAgpKWkoAKSlpKBDaKKKYCUlLSUCG0lLSUxCGm0402mISm06m0xMYaQ0ppDTIY00lKaSmISkpaSgYUUUUgCiiikAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/2Q=="
description: Notify your loved one your whereabouts.
date: "2022-08-03"
---

# Problem

Let says, one day you decided/have to meet a new person , a complete stranger you have no information about. If you are lucky enough, you will come back home in one piece, but who knows ? your new acquintance might have a bad intention towards you, and at that moment you wish you had a preparation before, such as sending an alert message and your current location to people who you trust as a precaution if anything happen to you.

![Among UsWallpaper](https://d1lss44hh2trtw.cloudfront.net/assets/editorial/2020/09/among-us-steam-release-trailer-0-2-screenshot.png)

# Meet Soteria

![Banner](/static/images/blogs/soteria/banner.jpg)

Soteria (In Greek mythology, Soteria is the goddess of safety and salvation, deliverance, and preservation from harm) , this app send alert message and maps location to desired WhatsApp number

# Design

I learned a lot from this process especially in auto layouting component in Figma, Below is the design of the app that I have done. I want to thank Eric Angelo for the suggestion in my design process. If you guys have any suggestion and comments for the design, feel free to a comment in the comment section below!

![Design](/static/images/blogs/soteria/design.png)

# Code

There are 3 main things that I learned while making the app:
- How Swift UI works (previously using UI Kit)
- CoreLocation & MapKit
- Reverse geocoding

### CoreLocation & MapKit


Get user current latitude and longitude position
```swift
import SwiftUI
import CoreLocation
import MapKit

struct HomeView: View {
    @State private var showingAlert = false
    @ObservedObject var locationManager = LocationManager()

    var userLatitude: Double {
        return  locationManager.lastLocation?.coordinate.latitude ?? 0
    }

    var userLongitude: Double {
        return  locationManager.lastLocation?.coordinate.longitude ?? 0
    }
```

Convert latitude and longitude to an address using reverse geocode

```swift
func getAddressFromLatLon(Latitude: Double, Longitude: Double, completionHandler: @escaping CompletionHandler) {
        var center : CLLocationCoordinate2D = CLLocationCoordinate2D()

        let ceo: CLGeocoder = CLGeocoder()
        center.latitude = Latitude
        center.longitude = Longitude

        let loc: CLLocation = CLLocation(latitude:center.latitude, longitude: center.longitude)

        ceo.reverseGeocodeLocation(loc, completionHandler:
            {(placemarks, error) in
                if (error != nil)
                {
                    print("reverse geodcode fail: \(error!.localizedDescription)")
                }
                let pm = placemarks! as [CLPlacemark]

                if pm.count > 0 {
                    let pm = placemarks![0]
                    var addressString : String = ""
                    if pm.subLocality != nil {
                        addressString = addressString + pm.subLocality! + ", "
                    }
                    if pm.thoroughfare != nil {
                        addressString = addressString + pm.thoroughfare! + ", "
                    }
                    if pm.locality != nil {
                        addressString = addressString + pm.locality! + ", "
                    }
                    if pm.country != nil {
                        addressString = addressString + pm.country! + ", "
                    }
                    if pm.postalCode != nil {
                        addressString = addressString + pm.postalCode! + " "
                    }

                    completionHandler(true, addressString)
              }
        })
    }
```

Call the function and do something if the function is successfully called
```swift
getAddressFromLatLon(Latitude: userLatitude, Longitude: userLongitude){ (success, addressString) in
            if success {
                ....
        }
```

Since I want to send a message to a WhatsApp number that contain text and an google maps url, hence above code look like this.

```swift
getAddressFromLatLon(Latitude: userLatitude, Longitude: userLongitude){ (success, addressString) in
           if success {
                // get saved phoneNumber in user default
                let phoneNumber = UserDefaults.standard.string(forKey: "phoneNumber") ?? "0"

                if (phoneNumber == "0")
                {
                    showingAlert = !showingAlert
                }

                else{

                    let targetAddress = addressString.replacingOccurrences(of: " ", with: "%20")

                    let gmapUrl = "https://maps.google.com/?q=\(userLatitude),\(userLongitude)"

                    if let url = URL(string: "https://api.whatsapp.com/send/?phone=\( phoneNumber)&text=Help!%20Sender%20Sedang%20Dalam%20Masalah!%20Koordinate%20di%20Alamat%20di%20\(targetAddress)%20\(gmapUrl)&type=phone_number&app_absent=0"),

                            UIApplication.shared.canOpenURL(url) {
                               UIApplication.shared.open(url, options: [:])
                            }
                }
            }

        }
```

 UIApplication.shared.canOpenURL(url) is an instance method that returns a Boolean value that indicates whether an app is available to handle a URL scheme, in this case, it's WhatsApp.

# Demo

Check the demonstration video
[https://youtube.com/shorts/PNHZ9oppUDA](https://youtube.com/shorts/PNHZ9oppUDA)
